<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bot.life.dao.mapper.LifeMonsterMapper">
  
  <resultMap id="BaseResultMap" type="com.bot.life.dao.entity.LifeMonster">
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="map_id" jdbcType="BIGINT" property="mapId" />
    <result column="monster_type" jdbcType="INTEGER" property="monsterType" />
    <result column="attribute" jdbcType="INTEGER" property="attribute" />
    <result column="level" jdbcType="INTEGER" property="level" />
    <result column="health" jdbcType="INTEGER" property="health" />
    <result column="attack_power" jdbcType="INTEGER" property="attackPower" />
    <result column="defense" jdbcType="INTEGER" property="defense" />
    <result column="speed" jdbcType="INTEGER" property="speed" />
    <result column="critical_rate" jdbcType="DECIMAL" property="criticalRate" />
    <result column="critical_damage" jdbcType="DECIMAL" property="criticalDamage" />
    <result column="armor_break" jdbcType="DECIMAL" property="armorBreak" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
  </resultMap>
  
  <sql id="Base_Column_List">
    id, name, map_id, monster_type, attribute, level, health, attack_power, defense, 
    speed, critical_rate, critical_damage, armor_break, create_time
  </sql>
  
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from life_monster
    where id = #{id,jdbcType=BIGINT}
  </select>
  
  <select id="selectNormalMonstersByMapId" parameterType="java.lang.Long" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from life_monster
    where map_id = #{mapId,jdbcType=BIGINT} and monster_type = 1
    order by level, id
  </select>
  
  <select id="selectByMapIdAndType" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from life_monster
    where map_id = #{mapId,jdbcType=BIGINT} and monster_type = #{monsterType,jdbcType=INTEGER}
    order by level, id
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    delete from life_monster
    where id = #{id,jdbcType=BIGINT}
  </delete>
  
  <insert id="insert" parameterType="com.bot.life.dao.entity.LifeMonster" useGeneratedKeys="true" keyProperty="id">
    insert into life_monster (name, map_id, monster_type, 
      attribute, level, health, 
      attack_power, defense, speed, 
      critical_rate, critical_damage, armor_break, 
      create_time)
    values (#{name,jdbcType=VARCHAR}, #{mapId,jdbcType=BIGINT}, #{monsterType,jdbcType=INTEGER}, 
      #{attribute,jdbcType=INTEGER}, #{level,jdbcType=INTEGER}, #{health,jdbcType=INTEGER}, 
      #{attackPower,jdbcType=INTEGER}, #{defense,jdbcType=INTEGER}, #{speed,jdbcType=INTEGER}, 
      #{criticalRate,jdbcType=DECIMAL}, #{criticalDamage,jdbcType=DECIMAL}, #{armorBreak,jdbcType=DECIMAL}, 
      #{createTime,jdbcType=TIMESTAMP})
  </insert>
  
  <update id="updateByPrimaryKey" parameterType="com.bot.life.dao.entity.LifeMonster">
    update life_monster
    set name = #{name,jdbcType=VARCHAR},
      map_id = #{mapId,jdbcType=BIGINT},
      monster_type = #{monsterType,jdbcType=INTEGER},
      attribute = #{attribute,jdbcType=INTEGER},
      level = #{level,jdbcType=INTEGER},
      health = #{health,jdbcType=INTEGER},
      attack_power = #{attackPower,jdbcType=INTEGER},
      defense = #{defense,jdbcType=INTEGER},
      speed = #{speed,jdbcType=INTEGER},
      critical_rate = #{criticalRate,jdbcType=DECIMAL},
      critical_damage = #{criticalDamage,jdbcType=DECIMAL},
      armor_break = #{armorBreak,jdbcType=DECIMAL},
      create_time = #{createTime,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=BIGINT}
  </update>
  
</mapper>
